<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Visual Analytics 2017 - 2</title>

   
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/clean-blog.min.css" rel="stylesheet">
	<script src="https://d3js.org/d3.v4.min.js"></script>
	
	<style>




.axis--x path {
  display: none;
}

.line {
  fill: none;
  stroke: steelblue;
  stroke-width: 1.5px;
}

</style>

<style>
  
  .links line {
    stroke: #999;
    stroke-opacity: 0.6;
  }
  
  .nodes circle {
    stroke: #fff;
    stroke-width: 1.5px;
  }

  .nodes triangle {
    stroke: #fff;
    stroke-width: 1.5px;
  }
  
  </style>

<style>
    body {
      font-family: 'Open Sans', sans-serif;
      font-size: 11px;
      font-weight: 300;
      fill: #242424;
      text-align: center;
      text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff, 0 -1px 0 #fff;
      cursor: default;
    }

    .legend {
      font-family: 'Raleway', sans-serif;
      fill: #333333;
    }
  </style>


  </head>

  <body>
      
    
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand" >Cultivos ilicitos y Grupos armados</a>
        
      </div>
    </nav>

    <!-- Page Header -->
    <header class="masthead" style="background-image: url('img/post-tarea4.jpg')">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <div class="post-heading">
              <h1>¿Que tanto influyen los grupos armados en los cultivos ilícitos en Colombia?</h1>
              <h2 class="subheading">Análisis del comportamiento de los cultivos ilícitos frente a las 
                acciones de los grupos ilícitos en Colombia en los años de 2001 a 2006
              </h2>
              <span class="meta">Posted by
                <a >David Gomez</a>
                24 de Octubre de 2017</span>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Post Content -->
    <article>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
              <h2 class="section-heading"> Acciones Bélicas – Grupos Armados</h2>
            <p align="left">
                El primer paso para el análisis que se desea realizar es determinar los 
                departamentos en los cuales hay más acciones bélicas por parte de los grupos armados en Colombia.
                Para ello se planteó un diagrama de fuerza, en el cual se representan los departamentos con cultivos ilícitos y 
                los diferentes actores armados: 
            </p>

            <svg width="600" height="600" id="forceDiagram"></svg>

            <p align="left">
                Se puede observar que el actor armado más activo son las FARC, con un total de 64 ataques en el periodo estudiado, 
              en segundo lugar, se encuentra el ELN con 7 ataques, y finalmente otros grupos armados con 4 ataques.
            </p>

            <p align="left"> También se observa que los departamentos de Antioquia, Nariño y Cauca, son los que más ataques reportan, 
              tanto de las FARC como del ELN. Más adelante analizaremos si este comportamiento depende de la presencia de cultivos ilícitos o existen otras razones.
              </p>

            <h2 class="section-heading"> Departamentos con cultivos ilícitos</h2>
            <p align="left">Analizando la información disponible encontramos que hay 23 departamentos con cultivos ilícitos en el país, 
              los cuales para facilidad de análisis agrupamos en 5 categorías basados en la cantidad de hectáreas sembradas 
              obteniendo la siguiente tabla.
            </p>
            <table class="table table-striped" align="center">
              <thead>
                <th>DEPARTAMENTO</th>
                <th>2001</th>
                <th>2002</th>
                <th>2003</th>
                <th>2004</th>
                <th>2005</th>
                <th>2006</th>
                <th>GRUPO</th>
              </thead>
              <tbody>
                <tr>
                  <td>AMAZONAS</td>
                  <td>532</td>
                  <td>783</td>
                  <td>625</td>
                  <td>783</td>
                  <td>897</td>
                  <td>692</td>
                  <td>2</td>
                </tr>
                <tr>
                    <td>ANTIOQUIA</td>
                    <td>3171</td>
                    <td>3029</td>
                    <td>4265</td>
                    <td>5165</td>
                    <td>6414</td>
                    <td>6156</td>
                    <td>4</td>
                  </tr>
                  <tr>
                      <td>ARAUCA</td>
                      <td>2749</td>
                      <td>2215</td>
                      <td>538</td>
                      <td>1552</td>
                      <td>1883</td>
                      <td>1306</td>
                      <td>3</td>
                    </tr>
                    <tr>
                        <td>BOLIVAR</td>
                        <td>4824</td>
                        <td>2735</td>
                        <td>4470</td>
                        <td>3401</td>
                        <td>3670</td>
                        <td>2382</td>
                        <td>4</td>
                      </tr>
                      <tr>
                          <td>BOYACA</td>
                          <td>245</td>
                          <td>118</td>
                          <td>594</td>
                          <td>359</td>
                          <td>342</td>
                          <td>441</td>
                          <td>1</td>
                        </tr>
                        <tr>
                            <td>CALDAS</td>
                            <td>0</td>
                            <td>0</td>
                            <td>54</td>
                            <td>358</td>
                            <td>189</td>
                            <td>461</td>
                            <td>1</td>
                          </tr>

                          <tr>
                              <td>CAQUETA</td>
                              <td>14516</td>
                              <td>8412</td>
                              <td>7230</td>
                              <td>6500</td>
                              <td>4988</td>
                              <td>4967</td>
                              <td>5</td>
                            </tr>
                            <tr>
                                <td>CAUCA</td>
                                <td>3139</td>
                                <td>2121</td>
                                <td>1443</td>
                                <td>1265</td>
                                <td>2705</td>
                                <td>2105</td>
                                <td>3</td>
                              </tr>
                              <tr>
                                  <td>CHOCO</td>
                                  <td>354</td>
                                  <td>0</td>
                                  <td>453</td>
                                  <td>323</td>
                                  <td>1025</td>
                                  <td>816</td>
                                  <td>1</td>
                                </tr>
                                <tr>
                                    <td>CORDOBA</td>
                                    <td>652</td>
                                    <td>385</td>
                                    <td>838</td>
                                    <td>1535</td>
                                    <td>3136</td>
                                    <td>1216</td>
                                    <td>2</td>
                                  </tr>
                                  <tr>
                                      <td>CUNDINAMARCA</td>
                                      <td>22</td>
                                      <td>57</td>
                                      <td>57</td>
                                      <td>72</td>
                                      <td>56</td>
                                      <td>120</td>
                                      <td>1</td>
                                    </tr>
                                    <tr>
                                        <td>GUANIA</td>
                                        <td>1318</td>
                                        <td>748</td>
                                        <td>726</td>
                                        <td>721</td>
                                        <td>752</td>
                                        <td>753</td>
                                        <td>2</td>
                                      </tr>
                                      <tr>
                                          <td>GUAVIARE</td>
                                          <td>25553</td>
                                          <td>27380</td>
                                          <td>16163</td>
                                          <td>9770</td>
                                          <td>8658</td>
                                          <td>9477</td>
                                          <td>5</td>
                                        </tr>

                                        <tr>
                                            <td>GUAJIRA</td>
                                            <td>385</td>
                                            <td>354</td>
                                            <td>275</td>
                                            <td>556</td>
                                            <td>329</td>
                                            <td>166</td>
                                            <td>1</td>
                                          </tr>

                                          <tr>
                                              <td>MAGDALENA</td>
                                              <td>480</td>
                                              <td>644</td>
                                              <td>484</td>
                                              <td>706</td>
                                              <td>213</td>
                                              <td>271</td>
                                              <td>1</td>
                                            </tr>

                                            <tr>
                                                <td>META</td>
                                                <td>11425</td>
                                                <td>9219</td>
                                                <td>12814</td>
                                                <td>18740</td>
                                                <td>17305</td>
                                                <td>11063</td>
                                                <td>5</td>
                                              </tr>
                                              <tr>
                                                  <td>NARINO</td>
                                                  <td>7494</td>
                                                  <td>15132</td>
                                                  <td>17628</td>
                                                  <td>14155</td>
                                                  <td>13875</td>
                                                  <td>15607</td>
                                                  <td>5</td>
                                                </tr>

                                                <tr>
                                                    <td>NORTE DE SANTANDER</td>
                                                    <td>9145</td>
                                                    <td>8042</td>
                                                    <td>4471</td>
                                                    <td>3056</td>
                                                    <td>844</td>
                                                    <td>488</td>
                                                    <td>4</td>
                                                  </tr>
                                                  <tr>
                                                      <td>PUTUMAYO</td>
                                                      <td>47120</td>
                                                      <td>13726</td>
                                                      <td>7559</td>
                                                      <td>4386</td>
                                                      <td>8963</td>
                                                      <td>12253</td>
                                                      <td>5</td>
                                                    </tr>

                                                    <tr>
                                                        <td>SANTANDER</td>
                                                        <td>415</td>
                                                        <td>465</td>
                                                        <td>632</td>
                                                        <td>1124</td>
                                                        <td>981</td>
                                                        <td>866</td>
                                                        <td>2</td>
                                                      </tr>

                                                      <tr>
                                                          <td>VALLE DEL CAUCA</td>
                                                          <td>184</td>
                                                          <td>111</td>
                                                          <td>37</td>
                                                          <td>45</td>
                                                          <td>28</td>
                                                          <td>281</td>
                                                          <td>1</td>
                                                        </tr>

                                                        <tr>
                                                            <td>VAUPES</td>
                                                            <td>1918</td>
                                                            <td>1486</td>
                                                            <td>1157</td>
                                                            <td>1084</td>
                                                            <td>671</td>
                                                            <td>460</td>
                                                            <td>2</td>
                                                          </tr>
                                                          <tr>
                                                              <td>VICHADA</td>
                                                              <td>9166</td>
                                                              <td>4909</td>
                                                              <td>3818</td>
                                                              <td>4692</td>
                                                              <td>7826</td>
                                                              <td>5523</td>
                                                              <td>5</td>
                                                            </tr>
              </tbody>
            </table>
            <p align="left">
                Con la clasificación realizada se encuentra que los departamentos con mayor cantidad de cultivos ilícitos se hayan en 
                el sur del país, aunque existen cultivos ilícitos en muchos departamentos del país. 
                Adicionalmente se observa una tendencia de reducción de la cantidad de área cultivadas, 
                lo cual puede ser en respuesta a los planes gubernamentales que se ejecutaron. 
                A continuación se presenta una gráfica que evidencia esta tendencia:
                
            </p>
           
            <svg width="600" height="600" id="lineChart"></svg>
     

        <p align="left">
            Con la gráfica se observa que ha habido una reducción considerable en el grupo 4 y 5, aunque se ha estabilizado en los últimos años. 
            Esto se puede explicar gracias a que los procesos de sustitución de cultivos y erradicación se deben enfocar en estas áreas para obtener 
            mejores resultados, mientras que, en los otros grupos, los cultivos pueden estar mucho más dispersos dificultando su erradicación.
            
        </p>
      
        <h2 class="section-heading">Grupos armados y cultivos ilícitos </h2>
        <p align="left">
            Hasta este punto se ha analizado la dinámica de los grupos armadas y los cultivos ilícitos en el país, ahora bien, 
            se pretende enlazar estos dos comportamientos por medio de un diagrama de fuerzas, generando clusters por los grupos encontrados e integrando 
            las acciones bélicas de los grupos armados
        </p>
        
        <svg width="600" height="600" id="forceDiagram2"></svg>
        
        <p align>
            Como era de esperarse, se encontró que existen relaciones entre los departamentos con mayor cantidad de hectáreas cultivadas y 
            el volumen de acciones por parte de los grupos armados, sin embargo, se encontraron los siguientes aspectos a mencionar:
            
            •	Nariño y Cauca son departamentos con alto número de ataques por parte de las FARC y el ELN, y aunque en ambos hay presencia de cultivos ilícitos se debe contemplar que tiene valor estratégico para los grupos armados por su ubicación.
            •	Aunque la mayoría de departamentos con alto volumen de cultivos ilícitos, hay departamentos en donde hay muchos cultivos ilícitos y pocos ataques por parte de los grupos armados lo que podría indicar zonas con baja presencia del estado. Por ejemplo, los departamentos de Guaviare y Vichada.
            •	Aunque no se pueden atribuir todas las actividades bélicas en los departamentos a los cultivos ilícitos, si se puede determinar que hay una estrecha relación entre el actuar de los grupos armados y los departamentos con gran volumen de cultivos
      
            
          </p>

          

        <h2 class="section-heading">Fuente de Datos</h2>

        <p align="left">Para el análisis realizado se utilizaron las siguientes fuentes de datos:</p>

        <p align="left">Ataques a poblaciones: https://www.datos.gov.co/DataJam/Data-Jam-2017-OP-Centro-Memoria-Ataques-Poblacione/taxr-7pce
            
          </p>

          <p align="left" >Cultivos Ilícitos en Colombia: https://www.datos.gov.co/DataJam/Data-Jam-2017-R1-5-UNODOC-Colombia-Dataset-Cultivo/b5gi-gqfg
              
            </p>
            
          </div>
        </div>
      </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <ul class="list-inline text-center">
              <li class="list-inline-item">
                <a href="https://github.com/leo-gome/GruposArmadosCultivosIlicitos">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    

    




    
  </body>
  
  <script>
      
      var svg = d3.select("#forceDiagram"),
          width = +svg.attr("width"),
          height = +svg.attr("height");
      
      var color = d3.scaleOrdinal(d3.schemeCategory20);
      
      var simulation = d3.forceSimulation()
          .force("link", d3.forceLink().id(function(d) { return d.id; }))
          .force("charge", d3.forceManyBody().strength(-50).distanceMax(200).distanceMin(30))
          .force("center", d3.forceCenter(width / 2, height / 2));
      
      d3.json("data3.json", function(error, graph) {
        if (error) throw error;
      
        var link = svg.append("g")
            .attr("class", "links")
          .selectAll("line")
          .data(graph.links)
          .enter().append("line")
            .attr("stroke-width", function(d) { return Math.sqrt(d.value); });
      
        var node = svg.append("g")
            .attr("class", "nodes")
          .selectAll("circle")
          .data(graph.nodes)
          .enter().append("circle")
            .attr("r", function(d) { return d.radio; })
            .attr("fill", function(d) { return color(d.group); })
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));
      
        node.append("title")
            .text(function(d) { return d.id +""+d.text; });
      
        simulation
            .nodes(graph.nodes)
            .on("tick", ticked);
      
        simulation.force("link")
            .links(graph.links);
      
        function ticked() {
          link
              .attr("x1", function(d) { return d.source.x; })
              .attr("y1", function(d) { return d.source.y; })
              .attr("x2", function(d) { return d.target.x; })
              .attr("y2", function(d) { return d.target.y; });
      
          node
              .attr("cx", function(d) { return d.x; })
              .attr("cy", function(d) { return d.y; });
        }
      });
      
      function dragstarted(d) {
        if (!d3.event.active) simulation.alphaTarget(0.3).restart();
        d.fx = d.x;
        d.fy = d.y;
      }
      
      function dragged(d) {
        d.fx = d3.event.x;
        d.fy = d3.event.y;
      }
      
      function dragended(d) {
        if (!d3.event.active) simulation.alphaTarget(0);
        d.fx = null;
        d.fy = null;
      }
      
      </script>


  <script>
    
    var svg3 = d3.select("#forceDiagram2"),
        width3 = +svg3.attr("width"),
        height3 = +svg3.attr("height");
    
    var color3 = d3.scaleOrdinal(d3.schemeCategory20);
    
    var simulation3 = d3.forceSimulation()
        .force("link", d3.forceLink().id(function(d) { return d.id; }))
        .force("charge", d3.forceManyBody().strength(-100).distanceMax(400).distanceMin(60))
        .force("center", d3.forceCenter(width3 / 2, height3 / 2));
    
    d3.json("data2.json", function(error3, graph3) {
      if (error3) throw error3;
    
      var link3 = svg3.append("g")
          .attr("class", "links")
        .selectAll("line")
        .data(graph3.links)
        .enter().append("line")
          .attr("stroke-width", function(d) { return Math.sqrt(d.value); });
    
      var node3 = svg3.append("g")
          .attr("class", "nodes")
        .selectAll("circle")
        .data(graph3.nodes)
        .enter().append("circle")
          .attr("r", function(d) { return d.radio; })
          .attr("fill", function(d) { return d.color; })
          .call(d3.drag()
              .on("start", dragstarted)
              .on("drag", dragged)
              .on("end", dragended));
    
      node3.append("title")
          .text(function(d) { return d.id +""+d.text; });
    
      simulation3
          .nodes(graph3.nodes)
          .on("tick", ticked);
    
      simulation3.force("link")
          .links(graph3.links);
    
      function ticked() {
        link3
            .attr("x1", function(d) { return d.source.x; })
            .attr("y1", function(d) { return d.source.y; })
            .attr("x2", function(d) { return d.target.x; })
            .attr("y2", function(d) { return d.target.y; });
    
        node3
            .attr("cx", function(d) { return d.x; })
            .attr("cy", function(d) { return d.y; });
      }
    });
    
    function dragstarted(d) {
      if (!d3.event.active) simulation.alphaTarget(0.3).restart();
      d.fx = d.x;
      d.fy = d.y;
    }
    
    function dragged(d) {
      d.fx = d3.event.x;
      d.fy = d3.event.y;
    }
    
    function dragended(d) {
      if (!d3.event.active) simulation.alphaTarget(0);
      d.fx = null;
      d.fy = null;
    }
    
    </script>



<script>
    
    //Seleccion del SVG para generar la visualizacion y definicion de margener
    var svg2 = d3.select("#lineChart"),
        margin2 = {top: 20, right: 50, bottom: 30, left: 60},
        width2 = svg2.attr("width") - margin2.left - margin2.right,
        height2 = svg2.attr("height") - margin2.top - margin2.bottom,
        g2 = svg2.append("g").attr("transform", "translate(" + margin2.left + "," + margin2.top + ")");
    
    
    // definicion de las escalas para la visualizacion
    var x2 = d3.scaleBand().range([0, width2]),
        y2 = d3.scaleLinear().range([height2, 0]),
        z2 = d3.scaleOrdinal(d3.schemeCategory10);
    
    //definicion de la funcion para realizar las lineas entre los diferentes puntos
    var line2 = d3.line()
        .curve(d3.curveBasis)
        .x(function(d) { return x2(d.date); })
        .y(function(d) { return y2(d.hectareas); });
    
    //carga de la informacion
    d3.csv("data3.csv", function(error2, data2) {
      if (error2) throw error2;
      
      //Seleccion de las diferentes series de datos que se tendran en la visualizacion
      var years2 = data2.columns.slice(1).map(function(id) {
        return {
          id: id,
          values: data2.map(function(d) {
            return {date: d.date, hectareas: d[id]};
          })
        };
      });
      
      console.log(years2);
      //Definicion de los rangos de las escalas
      x2.domain(data2.map(function(d) { return d.date; }));
      
      y2.domain([
        0,
        15000
      ]);
    
      z2.domain(years2.map(function(c) { return c.id; }));
    
      //inclusion de los elementos de la visualizacion
      g2.append("g")
          .attr("class", "axis axis--x")
          .attr("transform", "translate(0," + height2 + ")")
          .call(d3.axisBottom(x2));
    
      g2.append("g")
          .attr("class", "axis axis--y")
          .call(d3.axisLeft(y2))
        .append("text")
          .attr("transform", "rotate(-90)")
          .attr("y", 6)
          .attr("dy", "0.71em")
          .attr("fill", "#000")
          .text("Hectareas Cultivadas");
    
      var year = g2.selectAll(".year")
        .data(years2)
        .enter().append("g")
          .attr("class", "year");
    
      year.append("path")
          .attr("class", "line")
          .attr("d", function(d) { return line2(d.values); })
          .style("stroke", function(d) { return z2(d.id); });
    
      year.append("text")
          .datum(function(d) { return {id: d.id, value: d.values[d.values.length - 1]}; })
          .attr("transform", function(d) { return "translate(" + x2(d.value.date) + "," + y2(d.value.hectareas) + ")"; })
          .attr("x", 3)
          .attr("dy", "0.35em")
          .style("font", "10px sans-serif")
          .text(function(d) { return d.id; });
    });
    //Funcion para retornar las diferentes series el grafico
    function type(d, _, columns) {
      //d.date = parseTime(d.date);
      for (var i = 1, n = columns.length, c; i < n; ++i) d[c = columns[i]] = +d[c];
      return d;
    }
    
    </script>






</html>
